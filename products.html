<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Browse our wide selection of fresh food, groceries, and medicine"
        />
        <title>Products - MoonCart</title>

        <!-- Favicon -->
        <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg" />

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
            rel="stylesheet"
        />

        <!-- Font Awesome -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />

        <!-- Stylesheets -->
        <link rel="stylesheet" href="css/main.css" />
        <link rel="stylesheet" href="css/responsive.css" />
    </head>
    <body>
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="container">
                <div class="top-bar-content">
                    <div class="top-bar-left">
                        <span
                            ><i class="fas fa-phone-alt"></i> +1 234 567
                            8900</span
                        >
                        <span
                            ><i class="fas fa-envelope"></i>
                            info@mooncart.com</span
                        >
                    </div>
                    <div class="top-bar-right">
                        <span class="delivery-badge"
                            ><i class="fas fa-shipping-fast"></i> Free delivery
                            on orders over $50</span
                        >
                        <div class="social-icons">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Header -->
        <header class="header">
            <div class="container">
                <nav class="navbar">
                    <a href="index.html" class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-moon"></i>
                        </div>
                        <div class="logo-text">
                            <span class="logo-main"
                                >Moon<span class="logo-accent">Cart</span></span
                            >
                            <span class="logo-tagline">Fresh & Fast</span>
                        </div>
                    </a>

                    <ul class="nav-menu">
                        <li>
                            <a href="index.html" class="nav-link">
                                <i class="fas fa-home"></i>
                                <span>Home</span>
                            </a>
                        </li>
                        <li>
                            <a href="products.html" class="nav-link active">
                                <i class="fas fa-utensils"></i>
                                <span>Products</span>
                            </a>
                        </li>
                        <li>
                            <a href="about.html" class="nav-link">
                                <i class="fas fa-info-circle"></i>
                                <span>About</span>
                            </a>
                        </li>
                        <li>
                            <a href="contact.html" class="nav-link">
                                <i class="fas fa-envelope"></i>
                                <span>Contact</span>
                            </a>
                        </li>
                        <li>
                            <a href="product-requests.html" class="nav-link">
                                <i class="fas fa-comments"></i>
                                <span>Product Requests</span>
                            </a>
                        </li>
                    </ul>

                    <div class="nav-actions">
                        <a href="cart.html" class="cart-icon-wrapper">
                            <div class="cart-icon">
                                <i class="fas fa-shopping-bag"></i>
                                <span class="cart-count">0</span>
                            </div>
                            <span class="cart-text">Cart</span>
                        </a>
                        <!-- Account Section (Static) -->
                        <div id="account-section" class="account-section">
                            <div class="auth-buttons">
                                <a href="login.html" class="btn-login">
                                    <i class="fas fa-sign-in-alt"></i>
                                    <span>Login</span>
                                </a>
                                <a href="signup.html" class="btn-signup">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Sign Up</span>
                                </a>
                            </div>
                        </div>

                        <div class="menu-toggle">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </nav>
            </div>
        </header>

        <!-- Page Header -->
        <section
            class="section"
            style="
                background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
                color: white;
                padding: 120px 0 60px;
                margin-top: 124px;
            "
        >
            <div class="container">
                <div class="text-center">
                    <h1
                        class="hero-title"
                        style="
                            color: white;
                            font-size: 48px;
                            margin-bottom: 15px;
                        "
                    >
                        Our Products
                    </h1>
                    <p style="font-size: 18px; opacity: 0.8">
                        Discover our wide selection of fresh and quality
                        products
                    </p>
                </div>
            </div>
        </section>

        <!-- Filter Section -->
        <section class="section" style="padding-top: 140px">
            <div class="container">
                <div class="filter-section">
                    <div
                        style="
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            flex-wrap: wrap;
                            gap: 20px;
                            margin-bottom: 20px;
                        "
                    >
                        <h3 style="margin: 0">Filter Products</h3>
                        <div
                            style="
                                display: flex;
                                gap: 15px;
                                align-items: center;
                            "
                        >
                            <input
                                type="text"
                                class="form-input search-input"
                                placeholder="Search products..."
                                style="width: 250px; margin: 0"
                            />
                            <select
                                class="form-select"
                                style="width: 150px; margin: 0"
                            >
                                <option value="default">Default</option>
                                <option value="price-low">
                                    Price: Low to High
                                </option>
                                <option value="price-high">
                                    Price: High to Low
                                </option>
                                <option value="name">Name: A to Z</option>
                            </select>
                        </div>
                    </div>

                    <div class="filter-tabs">
                        <button class="filter-tab active" data-category="all">
                            üåô All Products
                        </button>
                        <button class="filter-tab" data-category="handmade">
                            üçõ Handmade Food
                        </button>
                        <button class="filter-tab" data-category="dryfood">
                            üç™ Dry Food & Snacks
                        </button>
                        <button class="filter-tab" data-category="medicine">
                            üíä Emergency Medicine
                        </button>
                        <button class="filter-tab" data-category="beverages">
                            ü•§ Beverages
                        </button>
                        <button class="filter-tab" data-category="grocery">
                            üõí Daily Essentials
                        </button>
                    </div>
                </div>

                <!-- Products Grid -->
                <div class="products-grid" id="products-container">
                    <!-- Food Products -->
                    <div
                        class="product-card"
                        data-id="prod1"
                        data-category="handmade"
                        onclick="window.location.href='product-detail.html?id=prod1'"
                        style="cursor: pointer"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1563379091339-03b21ab4a4f8?w=400&h=300&fit=crop"
                                alt="Biryani"
                            />
                            <span class="product-badge">Hot</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Handmade Food</span>
                            <h3 class="product-name">
                                Chicken Biryani (Handmade)
                            </h3>
                            <p class="product-description">
                                Authentic homemade chicken biryani with aromatic
                                rice
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥350</span>
                                <button
                                    class="add-to-cart"
                                    onclick="event.stopPropagation();"
                                >
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod2"
                        data-category="handmade"
                        onclick="window.location.href='product-detail.html?id=prod2'"
                        style="cursor: pointer"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1645177628172-a94c1f96e6db?w=400&h=300&fit=crop"
                                alt="Khichuri"
                            />
                            <span class="product-badge">Comfort</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Handmade Food</span>
                            <h3 class="product-name">Khichuri with Chicken</h3>
                            <p class="product-description">
                                Bengali comfort food with rice, lentils &
                                chicken
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥250</span>
                                <button
                                    class="add-to-cart"
                                    onclick="event.stopPropagation();"
                                >
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod3"
                        data-category="handmade"
                        onclick="window.location.href='product-detail.html?id=prod3'"
                        style="cursor: pointer"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1601050690597-df0568f70950?w=400&h=300&fit=crop"
                                alt="Samosa"
                            />
                            <span class="product-badge">Popular</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Handmade Food</span>
                            <h3 class="product-name">
                                Samosa & Singara (6 pcs)
                            </h3>
                            <p class="product-description">
                                Freshly fried crispy samosas with potato filling
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥120</span>
                                <button
                                    class="add-to-cart"
                                    onclick="event.stopPropagation();"
                                >
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod4"
                        data-category="dryfood"
                        onclick="window.location.href='product-detail.html?id=prod4'"
                        style="cursor: pointer"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400&h=300&fit=crop"
                                alt="Instant Noodles"
                            />
                            <span class="product-badge">Quick</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Dry Food</span>
                            <h3 class="product-name">
                                Instant Noodles Pack (5 pcs)
                            </h3>
                            <p class="product-description">
                                Quick instant noodles - just add hot water!
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥180</span>
                                <button
                                    class="add-to-cart"
                                    onclick="event.stopPropagation();"
                                >
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Dry Food & Snacks -->
                    <div
                        class="product-card"
                        data-id="prod5"
                        data-category="dryfood"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400&h=300&fit=crop"
                                alt="Potato Chips"
                            />
                            <span class="product-badge">Deal</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Dry Food</span>
                            <h3 class="product-name">
                                Premium Potato Chips (Family Pack)
                            </h3>
                            <p class="product-description">
                                Crispy chips perfect for late-night cravings
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥150</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod6"
                        data-category="dryfood"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=400&h=300&fit=crop"
                                alt="Energy Bars"
                            />
                            <span class="product-badge">Healthy</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Dry Food</span>
                            <h3 class="product-name">
                                Energy Bars & Dry Fruits Mix
                            </h3>
                            <p class="product-description">
                                Healthy snack with almonds, cashews & dates
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥320</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod7"
                        data-category="grocery"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop"
                                alt="Rice"
                            />
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Grocery</span>
                            <h3 class="product-name">
                                Premium Basmati Rice (2kg)
                            </h3>
                            <p class="product-description">
                                Premium basmati rice - kitchen essential
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥420</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod8"
                        data-category="grocery"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=300&fit=crop"
                                alt="Fresh Eggs"
                            />
                            <span class="product-badge">Fresh</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Grocery</span>
                            <h3 class="product-name">
                                Fresh Farm Eggs (12 pcs)
                            </h3>
                            <p class="product-description">
                                Fresh eggs from free-range chickens
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥140</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Medicine Products -->
                    <div
                        class="product-card"
                        data-id="prod9"
                        data-category="medicine"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=400&h=300&fit=crop"
                                alt="Paracetamol"
                            />
                            <span class="product-badge">Emergency</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Medicine</span>
                            <h3 class="product-name">
                                Paracetamol 500mg (Emergency)
                            </h3>
                            <p class="product-description">
                                Fast-acting fever & pain relief medicine
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥80</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod10"
                        data-category="medicine"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=400&h=300&fit=crop"
                                alt="Cold Kit"
                            />
                            <span class="product-badge">Kit</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Medicine</span>
                            <h3 class="product-name">Cold & Flu Relief Kit</h3>
                            <p class="product-description">
                                Complete kit with cough syrup & nasal spray
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥280</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Beverages -->
                    <div
                        class="product-card"
                        data-id="prod11"
                        data-category="beverages"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1622543925917-763c34f7f0a6?w=400&h=300&fit=crop"
                                alt="Energy Drink"
                            />
                            <span class="product-badge">Energy</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Beverages</span>
                            <h3 class="product-name">
                                Energy Drink Pack (4 cans)
                            </h3>
                            <p class="product-description">
                                Boost energy for late-night work or study
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥240</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod12"
                        data-category="beverages"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1544145945-f90425340c7e?w=400&h=300&fit=crop"
                                alt="Coffee"
                            />
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Beverages</span>
                            <h3 class="product-name">
                                Instant Coffee Sachets (20 pcs)
                            </h3>
                            <p class="product-description">
                                Quick caffeine fix - 3-in-1 instant coffee
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥280</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Snacks -->
                    <div
                        class="product-card"
                        data-id="prod13"
                        data-category="dryfood"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1499636136210-6f4ee915583e?w=400&h=300&fit=crop"
                                alt="Cookies"
                            />
                            <span class="product-badge">Sweet</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Dry Food</span>
                            <h3 class="product-name">
                                Chocolate Chip Cookies (Family Pack)
                            </h3>
                            <p class="product-description">
                                Soft, chewy cookies with chocolate chunks
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥220</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod14"
                        data-category="medicine"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1603398938378-e54eab446dde?w=400&h=300&fit=crop"
                                alt="First Aid Kit"
                            />
                            <span class="product-badge">Essential</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Medicine</span>
                            <h3 class="product-name">
                                First Aid Kit (Emergency)
                            </h3>
                            <p class="product-description">
                                Complete first aid kit with essential supplies
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥450</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod15"
                        data-category="beverages"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1548839140-29a749e1cf4d?w=400&h=300&fit=crop"
                                alt="Mineral Water"
                            />
                            <span class="product-badge">Essential</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Beverages</span>
                            <h3 class="product-name">
                                Bottled Mineral Water (6 bottles)
                            </h3>
                            <p class="product-description">
                                Pure mineral water for hydration
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥120</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <div
                        class="product-card"
                        data-id="prod16"
                        data-category="handmade"
                    >
                        <div class="product-image">
                            <img
                                src="https://images.unsplash.com/photo-1633945274309-78d05702ff06?w=400&h=300&fit=crop"
                                alt="Morog Polao"
                            />
                            <span class="product-badge">Special</span>
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">Handmade Food</span>
                            <h3 class="product-name">Morog Polao (Handmade)</h3>
                            <p class="product-description">
                                Traditional Bengali chicken pulao
                            </p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥380</span>
                                <button class="add-to-cart">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <div
                    class="pagination-container"
                    style="
                        margin-top: 50px;
                        display: flex;
                        justify-content: center;
                    "
                >
                    <div
                        class="pagination"
                        id="pagination"
                        style="display: flex; gap: 10px; align-items: center"
                    >
                        <!-- Pagination buttons will be added by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Customer Request Floating Button -->
        <button
            onclick="openRequestModal()"
            style="
                position: fixed;
                bottom: 30px;
                right: 30px;
                width: 65px;
                height: 65px;
                background: linear-gradient(
                    135deg,
                    var(--primary-color),
                    var(--secondary-color)
                );
                color: white;
                border: none;
                border-radius: 50%;
                font-size: 26px;
                cursor: pointer;
                box-shadow: 0 10px 30px rgba(227, 30, 36, 0.4);
                z-index: 999;
                transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='scale(1.1) rotate(10deg)'"
            onmouseout="this.style.transform='scale(1) rotate(0deg)'"
        >
            <i class="fas fa-comment-dots"></i>
        </button>

        <!-- Customer Request Modal -->
        <div
            id="request-modal"
            style="
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                z-index: 10000;
                justify-content: center;
                align-items: center;
                padding: 20px;
            "
        >
            <div
                style="
                    background: white;
                    border-radius: 20px;
                    max-width: 600px;
                    width: 100%;
                    max-height: 90vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                "
            >
                <div
                    style="
                        padding: 30px;
                        border-bottom: 2px solid #f0f0f0;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    "
                >
                    <h2
                        style="
                            margin: 0;
                            font-size: 24px;
                            font-weight: 700;
                            color: var(--text-dark);
                            display: flex;
                            align-items: center;
                            gap: 12px;
                        "
                    >
                        <i
                            class="fas fa-comment-dots"
                            style="color: var(--primary-color)"
                        ></i>
                        Request a Product
                    </h2>
                    <button
                        onclick="closeRequestModal()"
                        style="
                            background: none;
                            border: none;
                            font-size: 28px;
                            color: var(--text-light);
                            cursor: pointer;
                            width: 40px;
                            height: 40px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            border-radius: 50%;
                            transition: all 0.3s ease;
                        "
                        onmouseover="this.style.background='#f0f0f0'; this.style.color='var(--primary-color)'"
                        onmouseout="this.style.background='none'; this.style.color='var(--text-light)'"
                    >
                        √ó
                    </button>
                </div>
                <div style="padding: 30px">
                    <p
                        style="
                            color: var(--text-light);
                            margin-bottom: 25px;
                            font-size: 15px;
                        "
                    >
                        Can't find what you're looking for? Let us know what
                        product you'd like us to add, and we'll do our best to
                        make it available!
                    </p>
                    <form onsubmit="submitProductRequest(event)">
                        <div style="margin-bottom: 20px">
                            <label
                                style="
                                    display: block;
                                    margin-bottom: 8px;
                                    font-weight: 600;
                                    color: var(--text-dark);
                                    font-size: 14px;
                                "
                                >Product Name *</label
                            >
                            <input
                                type="text"
                                id="request-product-name"
                                required
                                style="
                                    width: 100%;
                                    padding: 12px 15px;
                                    border: 2px solid #e0e0e0;
                                    border-radius: 10px;
                                    font-family: 'Poppins', sans-serif;
                                    font-size: 15px;
                                    transition: all 0.3s ease;
                                "
                                placeholder="e.g., Chicken Kacchi Biryani"
                                onfocus="this.style.borderColor='var(--primary-color)'"
                                onblur="this.style.borderColor='#e0e0e0'"
                            />
                        </div>
                        <div style="margin-bottom: 20px">
                            <label
                                style="
                                    display: block;
                                    margin-bottom: 8px;
                                    font-weight: 600;
                                    color: var(--text-dark);
                                    font-size: 14px;
                                "
                                >Category *</label
                            >
                            <select
                                id="request-category"
                                required
                                style="
                                    width: 100%;
                                    padding: 12px 15px;
                                    border: 2px solid #e0e0e0;
                                    border-radius: 10px;
                                    font-family: 'Poppins', sans-serif;
                                    font-size: 15px;
                                    transition: all 0.3s ease;
                                "
                                onfocus="this.style.borderColor='var(--primary-color)'"
                                onblur="this.style.borderColor='#e0e0e0'"
                            >
                                <option value="">Select Category</option>
                                <option value="handmade">Handmade Food</option>
                                <option value="dryfood">
                                    Dry Food & Snacks
                                </option>
                                <option value="medicine">
                                    Emergency Medicine
                                </option>
                                <option value="beverages">Beverages</option>
                                <option value="grocery">
                                    Daily Essentials
                                </option>
                            </select>
                        </div>
                        <div style="margin-bottom: 20px">
                            <label
                                style="
                                    display: block;
                                    margin-bottom: 8px;
                                    font-weight: 600;
                                    color: var(--text-dark);
                                    font-size: 14px;
                                "
                                >Description</label
                            >
                            <textarea
                                id="request-description"
                                rows="4"
                                style="
                                    width: 100%;
                                    padding: 12px 15px;
                                    border: 2px solid #e0e0e0;
                                    border-radius: 10px;
                                    font-family: 'Poppins', sans-serif;
                                    font-size: 15px;
                                    resize: vertical;
                                    transition: all 0.3s ease;
                                "
                                placeholder="Tell us more about the product you want..."
                                onfocus="this.style.borderColor='var(--primary-color)'"
                                onblur="this.style.borderColor='#e0e0e0'"
                            ></textarea>
                        </div>
                        <div style="margin-bottom: 20px">
                            <label
                                style="
                                    display: block;
                                    margin-bottom: 8px;
                                    font-weight: 600;
                                    color: var(--text-dark);
                                    font-size: 14px;
                                "
                                >Your Email (optional)</label
                            >
                            <input
                                type="email"
                                id="request-email"
                                style="
                                    width: 100%;
                                    padding: 12px 15px;
                                    border: 2px solid #e0e0e0;
                                    border-radius: 10px;
                                    font-family: 'Poppins', sans-serif;
                                    font-size: 15px;
                                    transition: all 0.3s ease;
                                "
                                placeholder="your@email.com"
                                onfocus="this.style.borderColor='var(--primary-color)'"
                                onblur="this.style.borderColor='#e0e0e0'"
                            />
                        </div>
                        <button
                            type="submit"
                            style="
                                width: 100%;
                                padding: 15px;
                                background: linear-gradient(
                                    135deg,
                                    var(--primary-color),
                                    var(--secondary-color)
                                );
                                color: white;
                                border: none;
                                border-radius: 10px;
                                font-weight: 600;
                                font-size: 16px;
                                cursor: pointer;
                                transition: all 0.3s ease;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                gap: 10px;
                            "
                            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(227, 30, 36, 0.4)'"
                            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                        >
                            <i class="fas fa-paper-plane"></i>
                            Submit Request
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3 class="logo" style="margin-bottom: 20px">
                            <i class="fas fa-moon"></i>
                            <span>Moon</span>Cart
                        </h3>
                        <p style="color: #999; margin-bottom: 20px">
                            Your one-stop shop for fresh food, groceries, and
                            medicine delivered to your doorstep.
                        </p>
                        <div class="social-links">
                            <a href="#" class="social-link"
                                ><i class="fab fa-facebook-f"></i
                            ></a>
                            <a href="#" class="social-link"
                                ><i class="fab fa-twitter"></i
                            ></a>
                            <a href="#" class="social-link"
                                ><i class="fab fa-instagram"></i
                            ></a>
                            <a href="#" class="social-link"
                                ><i class="fab fa-linkedin-in"></i
                            ></a>
                        </div>
                    </div>

                    <div class="footer-section">
                        <h3>Quick Links</h3>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="products.html">Products</a></li>
                            <li><a href="cart.html">Cart</a></li>
                            <li>
                                <a href="customer-dashboard.html">My Account</a>
                            </li>
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h3>Categories</h3>
                        <ul>
                            <li>
                                <a href="products.html?category=food">Food</a>
                            </li>
                            <li>
                                <a href="products.html?category=grocery"
                                    >Groceries</a
                                >
                            </li>
                            <li>
                                <a href="products.html?category=medicine"
                                    >Medicine</a
                                >
                            </li>
                            <li>
                                <a href="products.html?category=beverages"
                                    >Beverages</a
                                >
                            </li>
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h3>Contact Info</h3>
                        <ul>
                            <li>
                                <i class="fas fa-map-marker-alt"></i> 123 Main
                                St, City, Country
                            </li>
                            <li>
                                <i class="fas fa-phone"></i> +1 234 567 8900
                            </li>
                            <li>
                                <i class="fas fa-envelope"></i>
                                info@mooncart.com
                            </li>
                            <li><i class="fas fa-clock"></i> 24/7 Service</li>
                        </ul>
                    </div>
                </div>

                <div class="footer-bottom">
                    <p>
                        &copy; 2024 MoonCart. All rights reserved. |
                        <a href="#">Privacy Policy</a> |
                        <a href="#">Terms & Conditions</a>
                    </p>
                </div>
            </div>
        </footer>

        <!-- Scripts -->
        <script src="js/main.js"></script>
        <script src="js/api.js"></script>
        <script src="js/cart.js"></script>
        <script src="js/ui.js"></script>
        <script>
            // Load products from backend API
            async function loadProductsFromBackend() {
                try {
                    const response = await MoonCartAPI.getProducts();
                    if (response.success && response.products && response.products.length > 0) {
                        renderProductsFromAPI(response.products);
                        console.log(`Loaded ${response.products.length} products from backend`);
                    }
                } catch (error) {
                    console.log("Using static products - backend unavailable:", error.message);
                }
            }

            // Render products from API data
            function renderProductsFromAPI(products) {
                const container = document.getElementById("products-container");
                if (!container) return;

                // Clear existing products
                container.innerHTML = "";

                // Create product cards from API data
                products.forEach(product => {
                    const card = document.createElement("div");
                    card.className = "product-card";
                    card.dataset.id = product.id;
                    card.dataset.category = product.category_slug || "all";
                    card.style.cursor = "pointer";
                    card.onclick = function(e) {
                        if (!e.target.closest(".add-to-cart") && !e.target.closest(".product-action-btn")) {
                            window.location.href = `product-detail.html?id=${product.id}`;
                        }
                    };

                    const badgeHtml = product.badge ? `<span class="product-badge">${product.badge}</span>` : "";

                    card.innerHTML = `
                        <div class="product-image">
                            <img src="${product.image}" alt="${product.name}" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27400%27 height=%27300%27%3E%3Crect fill=%27%23f0f0f0%27 width=%27400%27 height=%27300%27/%3E%3Ctext x=%27200%27 y=%27150%27 text-anchor=%27middle%27 fill=%27%23999%27 font-family=%27Arial%27 font-size=%2716%27%3ENo Image%3C/text%3E%3C/svg%3E'"/>
                            ${badgeHtml}
                            
                        </div>
                        <div class="product-info">
                            <span class="product-category">${product.category_name || "Product"}</span>
                            <h3 class="product-name">${product.name}</h3>
                            <p class="product-description">${product.description || ""}</p>
                            <div class="product-footer">
                                <span class="product-price">‡ß≥${parseFloat(product.price).toFixed(0)}</span>
                                <button class="add-to-cart" onclick="event.stopPropagation(); addToCartFromAPI(${product.id}, '${product.name.replace(/'/g, "\\'")}', ${product.price}, '${product.image}', '${product.category_name || "Product"}');">
                                    <i class="fas fa-shopping-cart"></i> Add
                                </button>
                            </div>
                        </div>
                    `;
                    container.appendChild(card);
                });

                // Re-initialize filters after loading products
                initializeFilterTabs();
            }

            // Add to cart function for API products - defined in cart.js
            // addToCartFromAPI(id, name, price, image, category) is now in cart.js

            // Filter tabs and pagination functionality
            function initializeFilterTabs() {
                const filterTabs = document.querySelectorAll(".filter-tab");
                const productCards = document.querySelectorAll(".product-card");
                const searchInput = document.querySelector(".search-input");
                const sortSelect = document.querySelector(".form-select");
                const paginationContainer =
                    document.getElementById("pagination");

                let currentCategory = "all";
                let searchQuery = "";
                let currentPage = 1;
                const productsPerPage = 10;
                let filteredProducts = [];

                // Function to filter products
                function filterProducts() {
                    filteredProducts = Array.from(productCards).filter(
                        (card) => {
                            const cardCategory =
                                card.getAttribute("data-category");
                            const productName = card
                                .querySelector(".product-name")
                                .textContent.toLowerCase();
                            const productDescription = card
                                .querySelector(".product-description")
                                .textContent.toLowerCase();

                            // Check if the product matches both the category and search criteria
                            const matchesCategory =
                                currentCategory === "all" ||
                                cardCategory === currentCategory;
                            const matchesSearch =
                                searchQuery === "" ||
                                productName.includes(searchQuery) ||
                                productDescription.includes(searchQuery);

                            return matchesCategory && matchesSearch;
                        }
                    );

                    // Reset to first page when filters change
                    currentPage = 1;

                    // Update pagination and display products
                    updatePagination();
                    displayProducts();
                }

                // Function to display products for current page
                function displayProducts() {
                    // Hide all products first
                    productCards.forEach((card) => {
                        card.style.display = "none";
                    });

                    // Calculate start and end indices for current page
                    const startIndex = (currentPage - 1) * productsPerPage;
                    const endIndex = Math.min(
                        startIndex + productsPerPage,
                        filteredProducts.length
                    );

                    // Show only products for current page
                    for (let i = startIndex; i < endIndex; i++) {
                        filteredProducts[i].style.display = "block";
                    }
                }

                // Function to update pagination controls
                function updatePagination() {
                    const totalPages = Math.ceil(
                        filteredProducts.length / productsPerPage
                    );

                    // Clear previous pagination
                    if (paginationContainer) {
                        paginationContainer.innerHTML = "";

                        // Only show pagination if we have more than 1 page
                        if (totalPages > 1) {
                            // Prev button
                            const prevButton = document.createElement("button");
                            prevButton.innerHTML = "&laquo;";
                            prevButton.style.cssText =
                                "padding: 8px 16px; border: none; background-color: #f8f8f8; border-radius: 5px; cursor: pointer; transition: all 0.3s ease;";
                            prevButton.disabled = currentPage === 1;
                            if (currentPage === 1) {
                                prevButton.style.opacity = "0.5";
                                prevButton.style.cursor = "not-allowed";
                            }
                            prevButton.addEventListener("click", () => {
                                if (currentPage > 1) {
                                    currentPage--;
                                    displayProducts();
                                    updatePagination();
                                }
                            });
                            paginationContainer.appendChild(prevButton);

                            // Page buttons
                            const maxVisibleButtons = 5;
                            let startPage = Math.max(
                                1,
                                currentPage - Math.floor(maxVisibleButtons / 2)
                            );
                            let endPage = Math.min(
                                totalPages,
                                startPage + maxVisibleButtons - 1
                            );

                            // Adjust startPage if we're near the end
                            if (endPage - startPage + 1 < maxVisibleButtons) {
                                startPage = Math.max(
                                    1,
                                    endPage - maxVisibleButtons + 1
                                );
                            }

                            // First page button if not visible
                            if (startPage > 1) {
                                const firstPageBtn =
                                    document.createElement("button");
                                firstPageBtn.textContent = "1";
                                firstPageBtn.style.cssText =
                                    "padding: 8px 16px; border: none; background-color: #f8f8f8; border-radius: 5px; cursor: pointer; transition: all 0.3s ease;";
                                firstPageBtn.addEventListener("click", () => {
                                    currentPage = 1;
                                    displayProducts();
                                    updatePagination();
                                });
                                paginationContainer.appendChild(firstPageBtn);

                                // Ellipsis if needed
                                if (startPage > 2) {
                                    const ellipsis =
                                        document.createElement("span");
                                    ellipsis.textContent = "...";
                                    ellipsis.style.padding = "8px 5px";
                                    paginationContainer.appendChild(ellipsis);
                                }
                            }

                            // Page buttons
                            for (let i = startPage; i <= endPage; i++) {
                                const pageBtn =
                                    document.createElement("button");
                                pageBtn.textContent = i;
                                pageBtn.style.cssText = `padding: 8px 16px; border: none; border-radius: 5px; cursor: pointer; transition: all 0.3s ease; ${
                                    i === currentPage
                                        ? "background-color: var(--primary-color); color: white;"
                                        : "background-color: #f8f8f8;"
                                }`;
                                pageBtn.addEventListener("click", () => {
                                    currentPage = i;
                                    displayProducts();
                                    updatePagination();
                                });
                                paginationContainer.appendChild(pageBtn);
                            }

                            // Last page button if not visible
                            if (endPage < totalPages) {
                                // Ellipsis if needed
                                if (endPage < totalPages - 1) {
                                    const ellipsis =
                                        document.createElement("span");
                                    ellipsis.textContent = "...";
                                    ellipsis.style.padding = "8px 5px";
                                    paginationContainer.appendChild(ellipsis);
                                }

                                const lastPageBtn =
                                    document.createElement("button");
                                lastPageBtn.textContent = totalPages;
                                lastPageBtn.style.cssText =
                                    "padding: 8px 16px; border: none; background-color: #f8f8f8; border-radius: 5px; cursor: pointer; transition: all 0.3s ease;";
                                lastPageBtn.addEventListener("click", () => {
                                    currentPage = totalPages;
                                    displayProducts();
                                    updatePagination();
                                });
                                paginationContainer.appendChild(lastPageBtn);
                            }

                            // Next button
                            const nextButton = document.createElement("button");
                            nextButton.innerHTML = "&raquo;";
                            nextButton.style.cssText =
                                "padding: 8px 16px; border: none; background-color: #f8f8f8; border-radius: 5px; cursor: pointer; transition: all 0.3s ease;";
                            nextButton.disabled = currentPage === totalPages;
                            if (currentPage === totalPages) {
                                nextButton.style.opacity = "0.5";
                                nextButton.style.cursor = "not-allowed";
                            }
                            nextButton.addEventListener("click", () => {
                                if (currentPage < totalPages) {
                                    currentPage++;
                                    displayProducts();
                                    updatePagination();
                                }
                            });
                            paginationContainer.appendChild(nextButton);

                            // Add hover effect to all buttons
                            paginationContainer
                                .querySelectorAll("button")
                                .forEach((btn) => {
                                    if (!btn.disabled) {
                                        btn.addEventListener(
                                            "mouseover",
                                            function () {
                                                if (
                                                    !this.classList.contains(
                                                        "active"
                                                    )
                                                ) {
                                                    this.style.backgroundColor =
                                                        "#e0e0e0";
                                                }
                                            }
                                        );
                                        btn.addEventListener(
                                            "mouseout",
                                            function () {
                                                if (
                                                    !this.classList.contains(
                                                        "active"
                                                    )
                                                ) {
                                                    this.style.backgroundColor =
                                                        "#f8f8f8";
                                                }
                                            }
                                        );
                                    }
                                });
                        }

                        // Add product count info
                        const productCountInfo = document.createElement("div");
                        productCountInfo.style.cssText =
                            "margin-left: 15px; color: var(--text-light); font-size: 14px;";
                        productCountInfo.textContent = `Showing ${
                            filteredProducts.length
                                ? (currentPage - 1) * productsPerPage + 1
                                : 0
                        }-${Math.min(
                            currentPage * productsPerPage,
                            filteredProducts.length
                        )} of ${filteredProducts.length} products`;
                        paginationContainer.appendChild(productCountInfo);
                    }
                }

                // Function to sort products
                function sortProducts(sortBy) {
                    const productsContainer =
                        document.getElementById("products-container");

                    filteredProducts.sort((a, b) => {
                        if (sortBy === "price-low") {
                            const priceA = parseFloat(
                                a
                                    .querySelector(".product-price")
                                    .textContent.replace("‡ß≥", "")
                            );
                            const priceB = parseFloat(
                                b
                                    .querySelector(".product-price")
                                    .textContent.replace("‡ß≥", "")
                            );
                            return priceA - priceB;
                        } else if (sortBy === "price-high") {
                            const priceA = parseFloat(
                                a
                                    .querySelector(".product-price")
                                    .textContent.replace("‡ß≥", "")
                            );
                            const priceB = parseFloat(
                                b
                                    .querySelector(".product-price")
                                    .textContent.replace("‡ß≥", "")
                            );
                            return priceB - priceA;
                        } else if (sortBy === "name") {
                            const nameA = a
                                .querySelector(".product-name")
                                .textContent.toLowerCase();
                            const nameB = b
                                .querySelector(".product-name")
                                .textContent.toLowerCase();
                            return nameA.localeCompare(nameB);
                        }
                        return 0;
                    });

                    // Reset to first page
                    currentPage = 1;

                    // Update pagination and display products
                    updatePagination();
                    displayProducts();
                }

                // Add click event to each filter tab
                filterTabs.forEach((tab) => {
                    tab.addEventListener("click", () => {
                        // Remove active class from all tabs
                        filterTabs.forEach((t) => t.classList.remove("active"));

                        // Add active class to clicked tab
                        tab.classList.add("active");

                        // Update current category
                        currentCategory = tab.getAttribute("data-category");

                        // Apply filters
                        filterProducts();
                    });
                });

                // Add search functionality
                if (searchInput) {
                    searchInput.addEventListener("input", function () {
                        searchQuery = this.value.toLowerCase();
                        filterProducts();
                    });
                }

                // Add sort functionality
                if (sortSelect) {
                    sortSelect.addEventListener("change", function () {
                        sortProducts(this.value);
                    });
                }

                // Initialize pagination
                filterProducts();
            }

            // Initialize filter tabs on page load
            document.addEventListener("DOMContentLoaded", function () {
                // Load products from backend API (will fallback to static HTML if backend unavailable)
                loadProductsFromBackend();
                
                initializeFilterTabs();
                makeProductsClickable();

                // Connect nav search with filter search
                const navSearchInput =
                    document.getElementById("nav-search-input");
                const filterSearchInput =
                    document.querySelector(".search-input");

                if (navSearchInput && filterSearchInput) {
                    navSearchInput.addEventListener("input", function () {
                        filterSearchInput.value = this.value;
                        // Trigger the input event on the filter search input
                        const event = new Event("input", { bubbles: true });
                        filterSearchInput.dispatchEvent(event);
                    });
                }

                // Check for category parameter in URL
                const urlParams = new URLSearchParams(window.location.search);
                const categoryParam = urlParams.get("category");

                if (categoryParam) {
                    // Find the matching category tab
                    const categoryTab = document.querySelector(
                        `.filter-tab[data-category="${categoryParam}"]`
                    );
                    if (categoryTab) {
                        // Simulate a click on the category tab
                        categoryTab.click();
                    }
                }
            });

            // Make all product cards clickable
            function makeProductsClickable() {
                const productCards = document.querySelectorAll(
                    ".product-card[data-id]"
                );
                productCards.forEach((card) => {
                    // Add cursor pointer
                    card.style.cursor = "pointer";

                    // If onclick not already set, add it
                    if (!card.onclick) {
                        const productId = card.getAttribute("data-id");
                        card.onclick = function (e) {
                            // Don't navigate if clicking on buttons
                            if (
                                e.target.closest(".add-to-cart") ||
                                e.target.closest(".product-action-btn")
                            ) {
                                return;
                            }
                            window.location.href = `product-detail.html?id=${productId}`;
                        };
                    }
                });
            }

            // Customer Request Modal Functions
            function openRequestModal() {
                document.getElementById("request-modal").style.display = "flex";
                document.body.style.overflow = "hidden";
            }

            function closeRequestModal() {
                document.getElementById("request-modal").style.display = "none";
                document.body.style.overflow = "";
            }

            async function submitProductRequest(event) {
                event.preventDefault();

                const productName = document.getElementById("request-product-name").value.trim();
                const category = document.getElementById("request-category").value;
                const description = document.getElementById("request-description").value.trim();
                const email = document.getElementById("request-email").value.trim();

                if (!productName) {
                    MoonCart.showNotification("Please enter a product name", "error");
                    return;
                }

                if (!email) {
                    MoonCart.showNotification("Please enter your email", "error");
                    return;
                }

                const currentUser = MoonCart.getCurrentUser();

                const requestData = {
                    product_name: productName,
                    category: category,
                    description: description,
                    email: email,
                    user_id: currentUser ? currentUser.id : null
                };

                MoonCart.showLoading();

                try {
                    const response = await MoonCartAPI.submitProductRequest(requestData);
                    MoonCart.hideLoading();

                    if (response.success) {
                        MoonCart.showNotification(
                            "Product request submitted! We will review it soon.",
                            "success"
                        );
                        // Reset form and close modal
                        event.target.reset();
                        closeRequestModal();
                    } else {
                        MoonCart.showNotification(
                            response.message || "Failed to submit request",
                            "error"
                        );
                    }
                } catch (error) {
                    MoonCart.hideLoading();
                    console.error("Request error:", error);
                    MoonCart.showNotification(
                        "Failed to submit request. Please try again.",
                        "error"
                    );
                }
            }

            // Close modal when clicking outside
            document
                .getElementById("request-modal")
                ?.addEventListener("click", function (e) {
                    if (e.target === this) {
                        closeRequestModal();
                    }
                });
        </script>

        <!-- Direct initialization script for account section -->
        <script>
            // Ensure login/signup buttons are shown
            document.addEventListener("DOMContentLoaded", function () {
                // Final page-specific fallback if all else fails
                setTimeout(function () {
                    try {
                        if (
                            window.MoonCart &&
                            window.MoonCart.forceRenderAuthButtons
                        ) {
                            window.MoonCart.forceRenderAuthButtons();
                        } else {
                            console.log("Inline fallback for auth buttons");
                            var accountSection =
                                document.getElementById("account-section");
                            if (
                                accountSection &&
                                !accountSection.innerHTML.trim()
                            ) {
                                accountSection.innerHTML = `
                                    <div class="auth-buttons">
                                        <button class="btn-login" onclick="window.location.href='login.html'">
                                            <i class="fas fa-sign-in-alt"></i>
                                            <span>Login</span>
                                        </button>
                                        <button class="btn-signup" onclick="window.location.href='signup.html'">
                                            <i class="fas fa-user-plus"></i>
                                            <span>Sign Up</span>
                                        </button>
                                    </div>
                                `;
                            }
                        }
                    } catch (e) {
                        console.error("Error in force rendering:", e);
                    }
                }, 800); // Wait longer to ensure it's the final fallback
            });
        </script>
    </body>
</html>
